<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en"

      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:insert="partials/head :: head('BotaniBuddy Plant Details')"></head>
<body>

<header th:replace="partials/navbar :: navbar"></header>


<div class="d-flex justify-content-center" style="margin-top: 200px;">
    <div class="card col-10 p-3">
        <div class="d-flex align-items-center mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="red" class="bi bi-heart-pulse" viewBox="0 0 16 16">
                <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053.918 3.995.78 5.323 1.508 7H.43c-2.128-5.697 4.165-8.83 7.394-5.857.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17c3.23-2.974 9.522.159 7.394 5.856h-1.078c.728-1.677.59-3.005.108-3.947C13.486.878 10.4.28 8.717 2.01L8 2.748ZM2.212 10h1.315C4.593 11.183 6.05 12.458 8 13.795c1.949-1.337 3.407-2.612 4.473-3.795h1.315c-1.265 1.566-3.14 3.25-5.788 5-2.648-1.75-4.523-3.434-5.788-5Z"></path>
                <path d="M10.464 3.314a.5.5 0 0 0-.945.049L7.921 8.956 6.464 5.314a.5.5 0 0 0-.88-.091L3.732 8H.5a.5.5 0 0 0 0 1H4a.5.5 0 0 0 .416-.223l1.473-2.209 1.647 4.118a.5.5 0 0 0 .945-.049l1.598-5.593 1.457 3.642A.5.5 0 0 0 12 9h3.5a.5.5 0 0 0 0-1h-3.162l-1.874-4.686Z"></path>
            </svg>
            <h4 class="ps-2">AI Diagnosis</h4>
        </div>
        <div class="d-flex justify-content-between mb-3">
            <div class="px-2 col-3">
                <h4 class="m-0" th:text="${form.getPlantName()}"></h4>
            </div>
            <div class="px-2 col-3 d-flex align-items-start gap-1">
                <span class="fw-bold">Leaf:</span>
                <span th:text="${form.getLeaveADJ()}"></span>
            </div>
            <div class="px-2 col-3 d-flex align-items-start gap-1">
                <span class="fw-bold">Stem:</span>
                <span th:text="${form.getStemADJ()}"></span>
            </div>
            <div class="px-2 col-3 d-flex align-items-start gap-1">
                <span class="fw-bold">Fruit:</span>
                <span th:text="${form.getFruitADJ()}"></span>
            </div>
        </div>
        <div class="mb-4">
            <p th:text="${chatResponse}"></p>
        </div>

        <div class="d-flex px-4 justify-content-between">
<!--            <button class="btn btn-info">Return</button>-->
            <a class="btn btn-info" th:href="@{/plants/garden/{id}(id=${plantID})}">Return</a>
<!--            <button class="btn btn-success">Save Log</button>-->
            <form method="post" th:action="@{/plants/comment/{id}(id=${plantID})}">
                <textarea type="text" name="title" class="d-none" th:text="${form.getPlantName() + 'AI Diagnosis'}"/>
                <textarea name="content" class="d-none" id="content" rows="10" cols="35" th:text="${chatResponse}"/>

                <button class="btn btn-success">Save Log</button>
            </form>
        </div>
    </div>
</div>

<script>
  window.addEventListener('load',()=>{
    const loader = document.querySelector('.loading');
    loader.classList.add('loading-hidden');
    loader.addEventListener('transitioned', ()=>{
      document.body.removeChild("loading");
    });
  });
</script>

<footer th:replace="partials/footer :: footer"></footer>

</body>
</html>